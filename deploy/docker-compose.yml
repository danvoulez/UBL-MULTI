services:
  ubl-gate:
    image: rust:1.85
    working_dir: /workspace
    command: >
      bash -lc "
      cargo run --manifest-path vendor/ubl-core/Cargo.toml -p ubl_gate
      "
    ports:
      - "4000:4000"
    environment:
      REQUIRE_UNC1_NUMERIC: "true"
      F64_IMPORT_MODE: "reject"
      UBL_FEATURE_AUDIT_ENABLED: "true"
      UBL_FEATURE_ADVISOR_ENABLED: "true"
      UBL_FEATURE_MCP_ENABLED: "true"
    volumes:
      - ..:/workspace
